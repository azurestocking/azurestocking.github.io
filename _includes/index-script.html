<script>
    document.addEventListener("scroll", function() {
        const projects = [
            {% for project in site.projects %}
            {
                id: "{{ project.slug }}",
                color: "{{ project.color }}"
            }{% unless forloop.last %},{% endunless %}
            {% endfor %}
        ];
        
        const about = { id: "about", color: "var(--background)" };
        const allSections = [...projects, about];
        
        let currentColor = "var(--background)";

        for (const section of allSections) {
            const element = document.getElementById(section.id);
            if (element && element.getBoundingClientRect().top <= 240) {
                currentColor = section.color;
            }
        }

        document.body.style.backgroundColor = currentColor;
    }); 
</script> 